import{r,U as E,u as O,j as e}from"./index-D2Kp2z1Q.js";function A(){const{id:g,user:d,existUser:p,setExistUser:f,exitUserId:j,api:y}=r.useContext(E),c=O();r.useEffect(()=>{g!=="undefined"?b():c("/login")},[d]);function b(){d&&d.role!=="teacher"&&c("/")}p&&(window.location.href=`teacher/${j}`);const[v,N]=r.useState(),[m,u]=r.useState(""),[h,x]=r.useState(""),[s,l]=r.useState({user:"",name:"",logo:"",about:"",language:"",regionalLanguage:"",address:"",city:"",state:"",classFrom:"",classTo:"",subject:"",type:""}),[t,w]=r.useState({}),C=()=>{const a={};return s.name||(a.name="Name is required."),s.logo||(a.logo="Logo is required."),s.type||(a.type="Type is required."),s.about||(a.about="About us is required."),s.language||(a.language="Language is required."),h=="regional"&&(s.regionalLanguage||(a.regionalLanguage="Regional Language is required.")),m=="offline"&&(s.address||(a.address="Address is required."),s.city||(a.city="City is required."),s.state||(a.state="State is required.")),s.subject||(a.subject="Subject us is required."),a},F=async a=>{a.preventDefault();const n=C();if(Object.keys(n).length>0){w(n);return}const o=a.target,T=new FormData(o);try{let i=await fetch(`${y}/addteacher`,{method:"POST",body:T});i=await i.json(),i&&(o.reset(),f(!0),c(`/teacher/${i.response._id}`))}catch(i){console.log(i)}},L=a=>{let n=a.target.files[0];if(!n.name.match(/\.(jpg|jpeg|png)$/)){alert("Please upload a valid image file (jpg, jpeg, png)."),a.target.value="";return}let o=window.URL.createObjectURL(n);N(o),l({...s,logo:n})},S=["Physics","Chemistry","Maths","Biology","Economics","History","Political Science","Geography","Sociology","Philosophy","Psychology","Computer Science","Accountancy","Business Studies","Economics","Hindi","English"];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"m-auto w-full lg:w-3/4 border-2 my-6 p-6 rounded-lg",children:e.jsxs("form",{onSubmit:F,className:"space-y-5",children:[e.jsx("input",{type:"hidden",name:"user",value:g}),e.jsx("h5",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-center",children:"Add Teacher"}),e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Name",name:"name",value:s.name,onChange:a=>{l({...s,name:a.target.value})}}),t.name&&e.jsx("p",{className:"text-red-500 text-sm",children:t.name})]}),e.jsxs("div",{className:"flex flex-col md:flex-row border rounded bg-neutral-50 py-2 px-3 gap-4",children:[e.jsx("input",{onChange:L,className:"w-full",type:"file",name:"logo"}),e.jsx("div",{className:"w-full md:w-[250px] h-[200px] rounded-lg overflow-hidden border",children:e.jsx("img",{className:"w-full h-full object-cover",src:v,alt:""})})]}),t.logo&&e.jsx("p",{className:"text-red-500 text-sm",children:t.logo}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"About You",name:"about",value:s.about,onChange:a=>{l({...s,about:a.target.value})}}),t.about&&e.jsx("p",{className:"text-red-500 text-sm",children:t.about})]}),e.jsx("h4",{className:"text-2xl",children:"Language"}),e.jsxs("div",{className:"flex px-2 mt-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hindi",children:"Hindi"}),e.jsx("input",{value:s.language,onChange:()=>{x("hindi"),l({...s,language:"hindi"})},id:"hindi",className:"ms-3",name:"language",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"english",children:"English"}),e.jsx("input",{value:s.language,onChange:()=>{x("english"),l({...s,language:"english"})},id:"english",className:"ms-3",name:"language",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"regional",children:"Regional"}),e.jsx("input",{value:s.language,onChange:()=>{x("regional"),l({...s,language:"regional"})},id:"regional",className:"ms-3",name:"language",type:"radio"})]}),t.language&&e.jsx("p",{className:"text-red-500 text-sm",children:t.language})]}),h==="regional"&&e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Other language",name:"regionalLanguage",value:s.regionalLanguage,onChange:a=>{l({...s,regionalLanguage:a.target.value})}}),t.regionalLanguage&&e.jsx("p",{className:"text-red-500 text-sm",children:t.regionalLanguage})]}),e.jsx("h4",{className:"text-2xl",children:"Type"}),e.jsxs("div",{className:"flex px-2 mt-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"online",children:"Online"}),e.jsx("input",{value:s.type,onChange:()=>{u("online"),l({...s,type:"online"})},id:"online",className:"ms-3",name:"type",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Offline",children:"Offline"}),e.jsx("input",{value:s.type,onChange:()=>{u("offline"),l({...s,type:"offline"})},id:"Offline",className:"ms-3",name:"type",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"both",children:"Online & Offline"}),e.jsx("input",{value:s.type,onChange:()=>{u("offline"),l({...s,type:"online && Offline"})},id:"both",className:"ms-3",name:"type",type:"radio"})]}),t.type&&e.jsx("p",{className:"text-red-500 text-sm",children:t.type})]})]}),m=="offline"?e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Address",name:"address",value:s.address,onChange:a=>{l({...s,address:a.target.value})}}),t.address&&e.jsx("p",{className:"text-red-500 text-sm",children:t.address})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"City",name:"city",value:s.city,onChange:a=>{l({...s,city:a.target.value})}}),t.city&&e.jsx("p",{className:"text-red-500 text-sm",children:t.city})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"State",name:"state",value:s.state,onChange:a=>{l({...s,state:a.target.value})}}),t.state&&e.jsx("p",{className:"text-red-500 text-sm",children:t.state})]})]}):"",e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("select",{className:"w-full md:w-[15%] border rounded bg-neutral-50 mt-2 p-2 text-base md:text-lg focus:outline-none",name:"classFrom",value:s.classFrom,onChange:a=>{l({...s,classFrom:a.target.value})},children:[e.jsx("option",{value:"",children:"Class From"}),Array.from({length:10},(a,n)=>n+1).map(a=>e.jsx("option",{value:a,children:a},a))]}),t.classFrom&&e.jsx("p",{className:"text-red-500 text-sm",children:t.classFrom}),e.jsxs("select",{className:"w-full md:w-[15%] border rounded bg-neutral-50 mt-2 p-2 text-base md:text-lg focus:outline-none",name:"classTo",value:s.classTo,onChange:a=>{l({...s,classTo:a.target.value})},children:[e.jsx("option",{value:"",children:"Class To"}),Array.from({length:10},(a,n)=>n+1).map(a=>e.jsx("option",{value:a,children:a},a))]}),t.classTo&&e.jsx("p",{className:"text-red-500 text-sm",children:t.classTo})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xl md:text-2xl font-semibold",children:"Class 11th , 12th"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:S.map(a=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:a,children:a}),e.jsx("input",{value:s.subject,onChange:()=>l({...s,subject:a}),id:a,className:"ms-3",name:"subject",type:"radio"})]},a))}),t.subject&&e.jsx("p",{className:"text-red-500 text-sm",children:t.subject})]}),e.jsx("div",{className:"text-end",children:e.jsx("button",{className:"px-6 py-2 text-lg md:text-2xl rounded-lg font-semibold bg-blue-500 text-white",children:"Add"})})]})})})}export{A as default};
