import{r as d,U as S,u as T,j as s}from"./index-D2Kp2z1Q.js";function U(){const{id:m,user:i,existUser:u,setExistUser:p,exitUserId:h,api:f}=d.useContext(S),x=T();d.useEffect(()=>{m!=="undefined"?g():x("/login")},[i]);function g(){i&&(i.role==="coching"?i._id:x("/"))}u&&(window.location.href=`coching/${h}`);const[j,b]=d.useState(),[t,c]=d.useState({user:"",name:"",logo:"",about:"",address:"",city:"",state:"",classFrom:"",classTo:"",science:[],arts:[],commerce:[],type:"",exams:[]}),[o,v]=d.useState({}),y=()=>{const e={};return t.name||(e.name="Name is required."),t.logo||(e.logo="Logo is required."),t.type||(e.type="Type is required."),t.about||(e.about="About us is required."),t.address||(e.address="Address is required."),t.city||(e.city="City is required."),t.state||(e.state="State is required."),t.classFrom||(e.classFrom="Class from is required."),t.classTo||(e.classTo="Class to is required."),e},C=async e=>{e.preventDefault();const a=y();if(Object.keys(a).length>0){v(a);return}const n=e.target,l=new FormData(n);l.append("exams",t.exams.join(",")),l.append("science",t.science.join(",")),l.append("arts",t.arts.join(",")),l.append("commerce",t.commerce.join(","));try{let r=await fetch(`${f}/addCoching`,{method:"POST",body:l});r=await r.json(),console.log(!0),r.status&&(n.reset(),p(!0),x(`/coching/${r.response._id}`))}catch(r){console.log(r)}},N=e=>{let a=e.target.files[0];if(!a.name.match(/\.(jpg|jpeg|png)$/)){alert("Please upload a valid image file (jpg, jpeg, png)."),e.target.value="";return}let n=window.URL.createObjectURL(a);b(n),c({...t,logo:a})},w=e=>{const{value:a,checked:n}=e.target;let l=[...t.exams];n?l.push(a):l=l.filter(r=>r!==a),c({...t,exams:l})},k=e=>{const{value:a,checked:n}=e.target;let l=[...t.science];n?l.push(a):l=l.filter(r=>r!==a),c({...t,science:l})},F=e=>{const{value:a,checked:n}=e.target;let l=[...t.arts];n?l.push(a):l=l.filter(r=>r!==a),c({...t,arts:l})},E=e=>{const{value:a,checked:n}=e.target;let l=[...t.commerce];n?l.push(a):l=l.filter(r=>r!==a),c({...t,commerce:l})};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"m-auto w-full lg:w-3/4 border-2 my-6 p-6 rounded-lg",children:s.jsxs("form",{onSubmit:C,className:"space-y-5",children:[s.jsx("input",{type:"hidden",name:"user",value:m}),s.jsx("h5",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-center",children:"Add Coaching"}),s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Coaching Name",name:"name",value:t.name,onChange:e=>{c({...t,name:e.target.value})}}),o.name&&s.jsx("p",{className:"text-red-500 text-sm",children:o.name})]}),s.jsxs("div",{className:"flex flex-col md:flex-row border rounded bg-neutral-50 py-2 px-3 gap-4",children:[s.jsx("input",{onChange:N,className:"w-full",type:"file",name:"logo"}),s.jsx("div",{className:"w-full md:w-[250px] h-[200px] rounded-lg overflow-hidden border",children:s.jsx("img",{className:"w-full h-full object-cover",src:j,alt:""})})]}),o.logo&&s.jsx("p",{className:"text-red-500 text-sm",children:o.logo}),s.jsxs("div",{children:[s.jsxs("select",{className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",name:"type",value:t.type,onChange:e=>{c({...t,type:e.target.value})},children:[s.jsx("option",{value:"",children:"Select Type"}),s.jsx("option",{value:"Home Tuition",children:"Home Tuition"}),s.jsx("option",{value:"Coaching Classes",children:"Coaching Classes"})]}),o.type&&s.jsx("p",{className:"text-red-500 text-sm",children:o.type})]}),s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"About Us",name:"about",value:t.about,onChange:e=>{c({...t,about:e.target.value})}}),o.about&&s.jsx("p",{className:"text-red-500 text-sm",children:o.about})]}),s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Address",name:"address",value:t.address,onChange:e=>{c({...t,address:e.target.value})}}),o.address&&s.jsx("p",{className:"text-red-500 text-sm",children:o.address})]}),s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"City",name:"city",value:t.city,onChange:e=>{c({...t,city:e.target.value})}}),o.city&&s.jsx("p",{className:"text-red-500 text-sm",children:o.city})]}),s.jsxs("div",{children:[s.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"State",name:"state",value:t.state,onChange:e=>{c({...t,state:e.target.value})}}),o.state&&s.jsx("p",{className:"text-red-500 text-sm",children:o.state})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("select",{className:"w-full md:w-[15%] border rounded bg-neutral-50 mt-2 p-2 text-base md:text-lg focus:outline-none",name:"classFrom",value:t.classFrom,onChange:e=>{c({...t,classFrom:e.target.value})},children:[s.jsx("option",{value:"",children:"Class From"}),Array.from({length:10},(e,a)=>a+1).map(e=>s.jsx("option",{value:e,children:e},e))]}),o.classFrom&&s.jsx("p",{className:"text-red-500 text-sm",children:o.classFrom}),s.jsxs("select",{className:"w-full md:w-[15%] border rounded bg-neutral-50 mt-2 p-2 text-base md:text-lg focus:outline-none",name:"classTo",value:t.classTo,onChange:e=>{c({...t,classTo:e.target.value})},children:[s.jsx("option",{value:"",children:"Class To"}),Array.from({length:10},(e,a)=>a+1).map(e=>s.jsx("option",{value:e,children:e},e))]}),o.classTo&&s.jsx("p",{className:"text-red-500 text-sm",children:o.classTo})]}),s.jsx("div",{})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xl md:text-2xl font-semibold",children:"Class 11th , 12th"}),s.jsxs("div",{children:[s.jsx("label",{className:"block mt-5 text-xl md:text-2xl ps-3 font-semibold",children:"Science"}),s.jsx("div",{className:"flex flex-wrap flex-col md:flex-row gap-4 pt-3",children:["Physics","Chenistry","Maths","Biology"].map(e=>s.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[s.jsx("input",{id:e,type:"checkbox",value:e,onChange:k}),s.jsx("label",{htmlFor:e,children:e.toUpperCase()})]},e))}),s.jsxs("div",{children:[s.jsx("label",{className:"block mt-5 text-xl md:text-2xl ps-3 font-semibold",children:"Arts"}),s.jsx("div",{className:"flex flex-wrap flex-col md:flex-row gap-4 pt-3",children:["Economics","History","Political Science","Geography","Sociology","Philosophy","Psychology","Computer Science"].map(e=>s.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[s.jsx("input",{id:e,type:"checkbox",value:e,onChange:F}),s.jsx("label",{htmlFor:e,children:e.toUpperCase()})]},e))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mt-5 text-xl md:text-2xl ps-3 font-semibold",children:"Commerce"}),s.jsx("div",{className:"flex flex-wrap flex-col md:flex-row gap-4 pt-3",children:["Accountancy"," Business Studies"," Economics"].map(e=>s.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[s.jsx("input",{id:e,type:"checkbox",value:e,onChange:E}),s.jsx("label",{htmlFor:e,children:e.toUpperCase()})]},e))})]}),s.jsx("div",{})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xl md:text-2xl font-semibold",children:"Exam"}),s.jsx("div",{className:"flex flex-col md:flex-row gap-4 pt-3",children:["jee","neet","nda","airforce"].map(e=>s.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[s.jsx("input",{id:e,type:"checkbox",value:e,onChange:w}),s.jsx("label",{htmlFor:e,children:e.toUpperCase()})]},e))})]}),s.jsx("div",{className:"text-end",children:s.jsx("button",{className:"px-6 py-2 text-lg md:text-2xl rounded-lg font-semibold bg-blue-500 text-white",children:"Add"})})]})})})}export{U as default};
