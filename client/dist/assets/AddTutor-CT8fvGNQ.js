import{r as d,U,u as P,j as e}from"./index-D2Kp2z1Q.js";function $(){const{id:p,user:x,existUser:b,setExistUser:v,exitUserId:y,api:N}=d.useContext(U),u=P();d.useEffect(()=>{p!=="undefined"?C():u("/login")},[x]);function C(){x&&x.role!=="tutor"&&u("/")}b&&(window.location.href=`tutor/${y}`);const[w,k]=d.useState(),[g,m]=d.useState(""),[c,f]=d.useState(""),[j,h]=d.useState(""),[a,n]=d.useState({user:"",name:"",logo:"",about:"",fee:"",feeAs:"perhour",language:"",regionalLanguage:"",area:"",skills:"",address:"",city:"",state:"",classFrom:"",classTo:"",science:[],arts:[],commerce:[],type:"",exams:[]}),[l,F]=d.useState({}),A=()=>{const s={};return a.name||(s.name="Name is required."),a.logo||(s.logo="Logo is required."),a.type||(s.type="Type is required."),a.about||(s.about="About us is required."),a.fee||(s.fee="Fee  is required."),a.language||(s.language="Language is required."),a.area||(s.area="Area is required."),j=="regional"&&(a.regionalLanguage||(s.regionalLanguage="Regional Language is required.")),g=="offline"&&(a.address||(s.address="Address is required."),a.city||(s.city="City is required."),a.state||(s.state="State is required.")),c=="education"&&(a.classFrom||(s.classFrom="Class from is required."),a.classTo||(s.classTo="Class to is required.")),s},L=async s=>{s.preventDefault();const r=A();if(Object.keys(r).length>0){F(r);return}const o=s.target,t=new FormData(o);c=="education"&&(t.append("exams",a.exams.join(",")),t.append("science",a.science.join(",")),t.append("arts",a.arts.join(",")),t.append("commerce",a.commerce.join(",")));try{let i=await fetch(`${N}/addtutor`,{method:"POST",body:t});i=await i.json(),i&&(o.reset(),v(!0),u(`/tutor/${i.response._id}`))}catch(i){console.log(i)}},S=s=>{let r=s.target.files[0];if(!r.name.match(/\.(jpg|jpeg|png)$/)){alert("Please upload a valid image file (jpg, jpeg, png)."),s.target.value="";return}let o=window.URL.createObjectURL(r);k(o),n({...a,logo:r})},E=s=>{const{value:r,checked:o}=s.target;let t=[...a.exams];o?t.push(r):t=t.filter(i=>i!==r),n({...a,exams:t})},T=s=>{const{value:r,checked:o}=s.target;let t=[...a.science];o?t.push(r):t=t.filter(i=>i!==r),n({...a,science:t})},q=s=>{const{value:r,checked:o}=s.target;let t=[...a.arts];o?t.push(r):t=t.filter(i=>i!==r),n({...a,arts:t})},O=s=>{const{value:r,checked:o}=s.target;let t=[...a.commerce];o?t.push(r):t=t.filter(i=>i!==r),n({...a,commerce:t})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"m-auto w-full lg:w-3/4 border-2 my-6 p-6 rounded-lg",children:e.jsxs("form",{onSubmit:L,className:"space-y-5",children:[e.jsx("input",{type:"hidden",name:"user",value:p}),e.jsx("h5",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-center",children:"Add Tutor"}),e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Name",name:"name",value:a.name,onChange:s=>{n({...a,name:s.target.value})}}),l.name&&e.jsx("p",{className:"text-red-500 text-sm",children:l.name})]}),e.jsxs("div",{className:"flex flex-col md:flex-row border rounded bg-neutral-50 py-2 px-3 gap-4",children:[e.jsx("input",{onChange:S,className:"w-full",type:"file",name:"logo"}),e.jsx("div",{className:"w-full md:w-[250px] h-[200px] rounded-lg overflow-hidden border",children:e.jsx("img",{className:"w-full h-full object-cover",src:w,alt:""})})]}),l.logo&&e.jsx("p",{className:"text-red-500 text-sm",children:l.logo}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"About You",name:"about",value:a.about,onChange:s=>{n({...a,about:s.target.value})}}),l.about&&e.jsx("p",{className:"text-red-500 text-sm",children:l.about})]}),e.jsxs("div",{className:"flex justify-start items-center gap-9 felx-wrap",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Fee",name:"fee",value:a.fee,onChange:s=>{n({...a,fee:s.target.value})}}),l.fee&&e.jsx("p",{className:"text-red-500 text-sm",children:l.fee})]}),e.jsx("div",{className:"",children:e.jsxs("select",{name:"feeAs",className:"border rounded bg-neutral-50  p-2 text-base md:text-lg focus:outline-none",value:a.feeAs,onChange:s=>{n({...a,feeAs:s.target.value})},children:[e.jsx("option",{value:"perhour",children:"per Hour"}),e.jsx("option",{value:"perMonth",children:"per Month"})]})})]}),e.jsx("h4",{className:"text-2xl",children:"Language"}),e.jsxs("div",{className:"flex px-2 mt-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hindi",children:"Hindi"}),e.jsx("input",{value:a.language,onChange:()=>{h("hindi"),n({...a,language:"hindi"})},id:"hindi",className:"ms-3",name:"language",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"english",children:"English"}),e.jsx("input",{value:a.language,onChange:()=>{h("english"),n({...a,language:"english"})},id:"english",className:"ms-3",name:"language",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"regional",children:"Regional"}),e.jsx("input",{value:a.language,onChange:()=>{h("regional"),n({...a,language:"regional"})},id:"regional",className:"ms-3",name:"language",type:"radio"})]}),l.language&&e.jsx("p",{className:"text-red-500 text-sm",children:l.language})]}),j==="regional"&&e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Other language",name:"regionalLanguage",value:a.regionalLanguage,onChange:s=>{n({...a,regionalLanguage:s.target.value})}}),l.regionalLanguage&&e.jsx("p",{className:"text-red-500 text-sm",children:l.regionalLanguage})]}),e.jsx("h4",{className:"text-2xl",children:"Type"}),e.jsxs("div",{className:"flex px-2 mt-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"online",children:"Online"}),e.jsx("input",{value:a.type,onChange:()=>{m("online"),n({...a,type:"online"})},id:"online",className:"ms-3",name:"type",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"Offline",children:"Offline"}),e.jsx("input",{value:a.type,onChange:()=>{m("offline"),n({...a,type:"offline"})},id:"Offline",className:"ms-3",name:"type",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"both",children:"Online & Offline"}),e.jsx("input",{value:a.type,onChange:()=>{m("offline"),n({...a,type:"online && Offline"})},id:"both",className:"ms-3",name:"type",type:"radio"})]}),l.type&&e.jsx("p",{className:"text-red-500 text-sm",children:l.type})]})]}),g=="offline"?e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"Address",name:"address",value:a.address,onChange:s=>{n({...a,address:s.target.value})}}),l.address&&e.jsx("p",{className:"text-red-500 text-sm",children:l.address})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"City",name:"city",value:a.city,onChange:s=>{n({...a,city:s.target.value})}}),l.city&&e.jsx("p",{className:"text-red-500 text-sm",children:l.city})]}),e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"State",name:"state",value:a.state,onChange:s=>{n({...a,state:s.target.value})}}),l.state&&e.jsx("p",{className:"text-red-500 text-sm",children:l.state})]})]}):"",e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl mt-5",children:"Area"}),e.jsxs("div",{className:"flex px-2 mt-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"education",children:"Education"}),e.jsx("input",{value:a.area,onChange:()=>{f("education"),n({...a,area:"education"})},id:"education",className:"ms-3",name:"area",type:"radio"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"skills",children:"Skills"}),e.jsx("input",{value:a.area,onChange:()=>{f("skills"),n({...a,area:"skills"})},id:"skills",className:"ms-3",name:"area",type:"radio"})]}),l.area&&e.jsx("p",{className:"text-red-500 text-sm",children:l.area})]})]}),c=="education"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("select",{className:"w-full md:w-[15%] border rounded bg-neutral-50 mt-2 p-2 text-base md:text-lg focus:outline-none",name:"classFrom",value:a.classFrom,onChange:s=>{n({...a,classFrom:s.target.value})},children:[e.jsx("option",{value:"",children:"Class From"}),Array.from({length:10},(s,r)=>r+1).map(s=>e.jsx("option",{value:s,children:s},s))]}),l.classFrom&&e.jsx("p",{className:"text-red-500 text-sm",children:l.classFrom}),e.jsxs("select",{className:"w-full md:w-[15%] border rounded bg-neutral-50 mt-2 p-2 text-base md:text-lg focus:outline-none",name:"classTo",value:a.classTo,onChange:s=>{n({...a,classTo:s.target.value})},children:[e.jsx("option",{value:"",children:"Class To"}),Array.from({length:10},(s,r)=>r+1).map(s=>e.jsx("option",{value:s,children:s},s))]}),l.classTo&&e.jsx("p",{className:"text-red-500 text-sm",children:l.classTo})]}),e.jsx("div",{})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xl md:text-2xl font-semibold",children:"Class 11th , 12th"}),e.jsxs("div",{children:[e.jsx("label",{className:"block mt-5 text-xl md:text-2xl ps-3 font-semibold",children:"Science"}),e.jsx("div",{className:"flex flex-wrap flex-col md:flex-row gap-4 pt-3",children:["Physics","Chenistry","Maths","Biology"].map(s=>e.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[e.jsx("input",{id:s,type:"checkbox",value:s,onChange:T}),e.jsx("label",{htmlFor:s,children:s.toUpperCase()})]},s))}),e.jsxs("div",{children:[e.jsx("label",{className:"block mt-5 text-xl md:text-2xl ps-3 font-semibold",children:"Arts"}),e.jsx("div",{className:"flex flex-wrap flex-col md:flex-row gap-4 pt-3",children:["Economics","History","Political Science","Geography","Sociology","Philosophy","Psychology","Computer Science"].map(s=>e.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[e.jsx("input",{id:s,type:"checkbox",value:s,onChange:q}),e.jsx("label",{htmlFor:s,children:s.toUpperCase()})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mt-5 text-xl md:text-2xl ps-3 font-semibold",children:"Commerce"}),e.jsx("div",{className:"flex flex-wrap flex-col md:flex-row gap-4 pt-3",children:["Accountancy"," Business Studies"," Economics"].map(s=>e.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[e.jsx("input",{id:s,type:"checkbox",value:s,onChange:O}),e.jsx("label",{htmlFor:s,children:s.toUpperCase()})]},s))})]}),e.jsx("div",{})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xl md:text-2xl font-semibold",children:"Exam"}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4 pt-3",children:["jee","neet","nda","airforce"].map(s=>e.jsxs("div",{className:"flex items-center space-x-2 text-base md:text-xl",children:[e.jsx("input",{id:s,type:"checkbox",value:s,onChange:E}),e.jsx("label",{htmlFor:s,children:s.toUpperCase()})]},s))})]})]}),c=="skills"&&e.jsxs("div",{children:[e.jsx("input",{type:"text",className:"w-full border rounded bg-neutral-50 py-2 px-3 text-base md:text-lg focus:outline-none",placeholder:"skills",name:"skills",value:a.skills,onChange:s=>{n({...a,skills:s.target.value})}}),l.skills&&e.jsx("p",{className:"text-red-500 text-sm",children:l.skills})]}),e.jsx("div",{className:"text-end",children:e.jsx("button",{className:"px-6 py-2 text-lg md:text-2xl rounded-lg font-semibold bg-blue-500 text-white",children:"Add"})})]})})})}export{$ as default};
